!function(t,a,e){t.DIOT_WALLET_API=function(){var o=function(t,o){a.ajax({url:"http://"+e.ip+":"+e.port,type:"POST",dataType:"json",data:t,success:function(t){"function"==typeof o&&o.call(this,t)},error:function(t){""===t.responseText?i():alert(t.responseJSON.error.message)}})},i=function(){if(!(a("#dialogShade").length>0)){var e='<div id="dialogBody" class="dialog-body"><i id="dialogClose" class="dialog-close"></i><div class="dialog-flex dialog-title"><span class="dialog-double"></span><span class="title">'+t.DIOT_I18N.Tips+'</span><span class="dialog-double"></span></div><div class="dialog-flex dialog-column"><div class="dialog-relative dialog-flex"><span class="dialog-wallet-err"></span></div><div class="dialog-tips dialog-flex"><i class="dialog-triangle"></i><span>'+t.DIOT_I18N["Please start the diot node server"]+'</span></div><div class="dialog-relative"><button id="dialogBtn" class="dialog-btn">'+t.DIOT_I18N.OK+"</button></div></div></div>";a("body").append('<div id="dialogShade" class="dialog-shade"></div>').append(e);var o=a("#dialogShade"),i=a("#dialogBody"),s=a("#dialogClose"),n=a("#dialogBtn"),d=a(t),l=i.outerWidth(),c=i.outerHeight(),r=d.width(),p=(d.height()-c)/2,g=(r-l)/2;i.css({top:p,left:g}),setTimeout(function(){i.css({opacity:1}),o.css({opacity:.1})},100),s.click(function(){i.css({opacity:0}),o.css({opacity:0}),setTimeout(function(){o.remove(),i.remove()},200)}),n.click(function(){t.location.reload(!0)}),d.resize(function(){var e=a("#dialogBody"),o=a(t),i=e.outerWidth(),s=e.outerHeight(),n=o.width(),d=(o.height()-s)/2,l=(n-i)/2;e.css({top:d,left:l})})}},s=function(t,a,e){o('{"method": "walletpassphrase","params":["'+t+'",'+a+'],"id": 1}',e)};return{getInfo:function(t){o('{"method": "getinfo", "id": 1}',t)},getBlockCount:function(t){o('{"method": "getblockcount", "id": 1}',t)},getBalance:function(t){o('{"method": "getbalance", "id": 1}',t)},sendToAddress:function(t,a,e,i,n){i&&s(e,30),o('{"method": "sendtoaddress","params":["'+t+'",'+a+',""],"id": 1}',n)},getAccountAddress:function(t){o('{"method": "getaddressesbyaccount","params":["DIOT-DEFAULT"],"id": 1}',t)},listTransactions:function(t,a,e){o('{"method": "listtransactions","params":["*",'+a+","+(t-1)*a+'],"id": 1}',e)},getEncryptStatus:function(t){o('{"method": "getencryptstatus","id": 1}',t)},walletPassphrase:s,encryptWallet:function(t,a){o('{"method": "encryptwallet","params":["'+t+'"],"id": 1}',a)},getLatestBlocks:function(t,a){o('{"method": "getlatestblocks","params":['+t+'],"id": 1}',a)},getBlockByNumber:function(t,a){o('{"method": "getblockbynumber","params":['+t+'],"id": 1}',a)},getStakingInfo:function(t){o('{"method": "getstakinginfo","id": 1}',t)},walletPassphraseChange:function(t,a,e){o('{"method": "walletpassphrasechange","params":["'+t+'","'+a+'"],"id": 1}',e)},setForgeBlock:function(t,a){o('{"method": "setforgeblock","params":['+t+'],"id": 1}',a)},getTransaction:function(t,a){o('{"method": "gettransaction","params":["'+t+'"],"id": 1}',a)},backupWallet:function(t,a){o('{"method": "backupwallet","params":["'+t+'"],"id": 1}',a)},frontendLogin:function(t,a){o('{"method": "frontendlogin","params":['+(null===t?"":t)+'],"id": 1}',a)},exploreranalysis:function(t,a){o('{"method": "exploreranalysis","params":["'+t+'"],"id": 1}',a)},getBlock:function(t,a){o('{"method": "getblock","params":["'+t+'"],"id": 1}',a)},repairWallet:function(t){o('{"method": "repairwallet","params":[],"id": 1}',t)},resendtx:function(t){o('{"method": "resendtx","params":[],"id": 1}',t)},walletlock:function(t){o('{"method": "walletlock","params":[],"id": 1}',t)}}}()}(window,jQuery,window.DIOT_WALLET_CONFIG);