$(document).ready(function(){var e=!0;window.DIOT_WALLET_API.getEncryptStatus(function(t){!t||0!==t.result&&"0"!==t.result||(jQuery("#btnModifyPass").html(window.DIOT_I18N.Encrypt),jQuery("#walletPassNav").html(window.DIOT_I18N["Setting Password"]),jQuery("#oldWalletPasss").hide(),e=!1)}),jQuery("#btnModifyPass").on("click",function(){var t=jQuery("#txtWalletPasss").val(),a=jQuery("#txtNewWalletPasss").val(),l=jQuery("#txtConfirmWalletPasss").val();(!t||t.length<=0)&&e?alert(window.DIOT_I18N["Please enter old password"]):!a||a.length<=0?alert(window.DIOT_I18N["Please enter new password"]):!l||l.length<=0?alert(window.DIOT_I18N["Please enter the correct password"]):a===l?e?window.DIOT_WALLET_API.walletPassphraseChange(t,a,function(e){!e||0!==e.result&&"0"!==e.result?!e||1!==e.result&&"1"!==e.result||(alert(window.DIOT_I18N.Success),window.location.reload(!0)):alert(window.DIOT_I18N["Old password error"])}):window.DIOT_WALLET_API.encryptWallet(a,function(e){e&&e.result&&(1===e.result||"1"===e.result)?alert(window.DIOT_I18N["The wallet has been successfully encrypted and closed. Please restart your wallet manually"]):alert(window.DIOT_I18N["Failed to encrypt wallet"])}):alert(window.DIOT_I18N["The two password is inconsistent"])}),jQuery("#btnBuckupWallet").on("click",function(){var e=jQuery("#txtBackupWalletName").val();(!e||e.length<=0)&&alert(window.DIOT_I18N["Please enter a name of wallet to be backup"]);var t=".dat";e.length>=4&&(t=".dat"===e.substring(e.length-4,e.length)?"":t),e="walletbackup/wallet-diot-"+parseInt((new Date).getTime()/1e3)+"-"+e+t,window.DIOT_WALLET_API.backupWallet(e,function(e){alert(window.DIOT_I18N["Backup successfully. Please check it under the installation directory"])})}),jQuery("#repairWalletBtn").on("click",function(){window.DIOT_WALLET_API.repairWallet(function(e){alert("wallet check passed "+e.result["wallet check passed"])})}),jQuery("#btnBroadcastTread").on("click",function(){window.DIOT_WALLET_API.resendtx(function(e){alert(window.DIOT_I18N["The unconfirmation transactions have been re-broadcast to the blockchain network"])})})});